# import the dataset
ddata <- read_excel("Desktop/uk daily.xlsx")   # the total death population
data <- read_excel("Desktop/death_data.xlsx")  # the death population inside care homes
dailydata <- ddata$`Daily change in deaths`
inddata <- data$`daily deaths(inside care homes)`
# define the normal loglikelihood function for total death
tnll <- function(x){
  mu1 = 100  # mu1 here is an estimate parameter 
  sigma = 100
  #theta is a vector containing the two parameters of interest
  n <- seq(1,146,1)
  logl <- -.5*n*log(2*pi) -.5*n*log(sigma^2)-
    ((1/(2*(sigma^2)))*(sum(x - mu1))^2)
  return(-logl)
} 

tout <- tnll(dailydata) # the loglikelihood values for total death

inll <- function(x){
  mu1 = 100
  sigma = 100
  #theta is a vector containing the two parameters of interest
  n <- seq(1,167,1)
  logl <- -.5*n*log(2*pi) -.5*n*log(sigma^2)-
    ((1/(2*(sigma^2)))*(sum(x - mu1))^2)
  return(-logl)
} 
iout <- inll(inddata)
out <- iout + tout
out  # the sum of the
# find the MLE
max(out)
